(this["webpackJsonpmovies-explorer"]=this["webpackJsonpmovies-explorer"]||[]).push([[0],Array(35).concat([function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(21),r=a.n(s),i=a(8),o=(a(35),a(2)),l=a(3),u=(a(36),a(37),a(38),a.p+"static/media/logo.8bce3dd2.svg"),j=a.p+"static/media/profileIco.1c3fd4ad.svg",b=a(0);var d=function(e){var t=e.landingHeader,a=e.loggedIn,s=Object(n.useState)("hidden"),r=Object(o.a)(s,2),i=r[0],d=r[1],h=Object(n.useState)(!0),m=Object(o.a)(h,2),_=m[0],p=m[1],f=Object(l.g)(),O=Object(l.h)(),v=function(e,t){t.preventDefault(),"hidden"!==i&&(d("hidden"),x(!1)),f.push(e)},x=function(e){document.body.style.overflow=!0===e?"hidden":"visible"},g=function(){"hidden"===i?(d(""),x(!0)):(d("hidden"),x(!1))},N=Object(n.useCallback)((function(){"/"===O.pathname||"/movies"===O.pathname||"/saved-movies"===O.pathname||"/profile"===O.pathname?p(!0):p(!1)}),[O.pathname]);return c.a.useEffect((function(){N()}),[N]),Object(b.jsx)("header",{className:"header ".concat(!_&&"header__hidden"),children:Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsxs)("div",{className:"header__header-static",children:[Object(b.jsx)("div",{className:"header__logo",children:Object(b.jsx)("a",{href:"",onClick:function(e){return v("/",e)},className:"header__logo-link",children:Object(b.jsx)("img",{src:u,alt:"\u041c\u043e\u044f \u0444\u0438\u043b\u044c\u043c\u043e\u0442\u0435\u043a\u0430",className:"header__logo-pic"})})}),t&&!a&&Object(b.jsx)("nav",{className:"header__nav",children:Object(b.jsxs)("ul",{className:"header__list",children:[Object(b.jsx)("li",{className:"header__item",children:Object(b.jsx)("a",{href:"",onClick:function(e){return v("/sign-up",e)},className:"link header__link",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(b.jsx)("button",{type:"button",onClick:function(e){return v("/sign-in",e)},className:"button header__button",children:"\u0412\u043e\u0439\u0442\u0438"})]})}),a&&Object(b.jsxs)("div",{className:"header__menu",children:[Object(b.jsx)("div",{onClick:g,className:"menu-burger__header",children:Object(b.jsx)("span",{})}),Object(b.jsxs)("div",{className:"overflow",children:[Object(b.jsx)("div",{className:"menu-burger__bcg ".concat(i)}),Object(b.jsxs)("div",{className:"header__movies ".concat(i),children:[Object(b.jsx)("nav",{className:"header__nav header__nav_movies",children:Object(b.jsxs)("ul",{className:"header__list header__list_movies",children:[Object(b.jsx)("li",{className:"header__item header__item_movies",children:Object(b.jsx)("a",{href:"",onClick:function(e){return v("/",e)},className:"link_movies header__link_mobile",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(b.jsx)("li",{className:"header__item",children:Object(b.jsx)("a",{href:"",onClick:function(e){return v("movies",e)},className:"link_movies header__link-movies",children:"\u0424\u0438\u043b\u044c\u043c\u044b"})}),Object(b.jsx)("li",{className:"header__item",children:Object(b.jsx)("a",{href:"",onClick:function(e){return v("saved-movies",e)},className:"link_movies header__link-saved",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})})]})}),Object(b.jsxs)("button",{onClick:function(e){return v("profile",e)},type:"button",className:"header__button-profile header__button-profile-text",children:["\u0410\u043a\u043a\u0430\u0443\u043d\u0442",Object(b.jsx)("div",{className:"header__button-profile-wrapper",children:Object(b.jsx)("img",{src:j,alt:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442",className:"header__button-profile-img"})})]}),Object(b.jsx)("button",{onClick:g,className:"header__button-cross ".concat(i),children:Object(b.jsx)("div",{className:"header__button-cross-line"})})]})]})]})]})})})};a(48),a(49);var h=function(){return Object(b.jsx)("div",{className:"promo__wrapper",children:Object(b.jsx)("h1",{className:"promo__about",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"})})};a(50);var m=function(){return Object(b.jsx)("div",{className:"navtab__wrapper",children:Object(b.jsx)("nav",{className:"navtab__about-nav",children:Object(b.jsxs)("ul",{className:"navtab__about-navbar",children:[Object(b.jsx)("li",{className:"navtab__about-navbar-item",children:Object(b.jsx)("a",{href:"#aboutProject",className:"navtab__about-item-link",children:Object(b.jsx)("button",{type:"button",className:"navtab__about-item-button",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})})}),Object(b.jsx)("li",{className:"navtab__about-navbar-item",children:Object(b.jsx)("a",{href:"#techs",className:"navtab__about-item-link",children:Object(b.jsx)("button",{type:"button",className:"navtab__about-item-button",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"})})}),Object(b.jsx)("li",{className:"navtab__about-navbar-item",children:Object(b.jsx)("a",{href:"#aboutMe",className:"navtab__about-item-link",children:Object(b.jsx)("button",{type:"button",className:"navtab__about-item-button",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"})})})]})})})},_=a(24);a(51);var p=function(e){return Object(_.a)(e),Object(b.jsxs)("div",{id:"aboutProject",className:"about-project__wrapper",children:[Object(b.jsx)("h2",{className:"about-project__tittle",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(b.jsxs)("div",{className:"about-project__content",children:[Object(b.jsxs)("div",{className:"about-project__container",children:[Object(b.jsx)("p",{className:"about-project__container-title",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(b.jsx)("p",{className:"about-project__container-subtitle",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(b.jsxs)("div",{className:"about-project__container",children:[Object(b.jsx)("p",{className:"about-project__container-title",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(b.jsx)("p",{className:"about-project__container-subtitle",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(b.jsxs)("div",{className:"about-project__progress",children:[Object(b.jsx)("div",{className:"about-project__progress-lines about-project__progress_back",children:"1 \u041d\u0435\u0434\u0435\u043b\u044f"}),Object(b.jsx)("div",{className:"about-project__progress-lines about-project__progress_front",children:"4 \u041d\u0435\u0434\u0435\u043b\u0438"})]}),Object(b.jsxs)("div",{className:"about-project__progress",children:[Object(b.jsx)("div",{className:"about-project__progress-lines about-project__progress_back about-project__progress_subtitle",children:"Back-end"}),Object(b.jsx)("div",{className:"about-project__progress-lines about-project__progress_front about-project__progress_subtitle",children:"Front-end"})]})]})};a(52);var f=function(){return Object(b.jsx)("div",{id:"techs",className:"techs__wrapper",children:Object(b.jsxs)("div",{className:"tech__content",children:[Object(b.jsx)("h2",{className:"techs__tittle",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(b.jsx)("p",{className:"techs__subtitle",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(b.jsx)("p",{className:"techs__subtitle-text",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(b.jsx)("nav",{className:"techs__navbar",children:Object(b.jsxs)("ul",{className:"techs__navbar-list",children:[Object(b.jsx)("li",{className:"techs__navbar-navbar-item",children:Object(b.jsx)("a",{href:"https://www.w3schools.com/html/html_editors.asp",target:"_blank",rel:"noreferrer",children:Object(b.jsx)("button",{type:"button",className:"techs__button",children:"HTML"})})}),Object(b.jsx)("li",{className:"techs__navbar-navbar-item",children:Object(b.jsx)("a",{href:"https://www.w3schools.com/css/default.asp",target:"_blank",rel:"noreferrer",children:Object(b.jsx)("button",{type:"button",className:"techs__button",children:"CSS"})})}),Object(b.jsx)("li",{className:"techs__navbar-navbar-item",children:Object(b.jsx)("a",{href:"https://learn.javascript.ru/",target:"_blank",rel:"noreferrer",children:Object(b.jsx)("button",{type:"button",className:"techs__button",children:"JS"})})}),Object(b.jsx)("li",{className:"techs__navbar-navbar-item",children:Object(b.jsx)("a",{href:"https://reactjs.org/",target:"_blank",rel:"noreferrer",children:Object(b.jsx)("button",{type:"button",className:"techs__button",children:"React"})})}),Object(b.jsx)("li",{className:"techs__navbar-navbar-item",children:Object(b.jsx)("a",{href:"https://git-scm.com/",target:"_blank",rel:"noreferrer",children:Object(b.jsx)("button",{type:"button",className:"techs__button",children:"Git"})})}),Object(b.jsx)("li",{className:"techs__navbar-navbar-item",children:Object(b.jsx)("a",{href:"https://developer.mozilla.org/ru/docs/Learn/Server-side/Express_Nodejs",target:"_blank",rel:"noreferrer",children:Object(b.jsx)("button",{type:"button",className:"techs__button",children:"Express.js"})})}),Object(b.jsx)("li",{className:"techs__navbar-navbar-item",children:Object(b.jsx)("a",{href:"https://www.mongodb.com/",target:"_blank",rel:"noreferrer",children:Object(b.jsx)("button",{type:"button",className:"techs__button",children:"MongoDB"})})})]})})]})})},O=(a(53),a.p+"static/media/pic__COLOR_pic.359dc941.jpg");var v=function(){return Object(b.jsxs)("div",{id:"aboutMe",className:"about-me__wrapper",children:[Object(b.jsx)("h2",{className:"about-me__tittle",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(b.jsxs)("div",{className:"about-me__container",children:[Object(b.jsxs)("div",{className:"about-me__block",children:[Object(b.jsx)("p",{className:"about-me__subtitle",children:"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440"}),Object(b.jsx)("p",{className:"about-me__job",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 26 \u043b\u0435\u0442"}),Object(b.jsx)("p",{className:"about-me__subtitle-text",children:"\u042f \u0440\u043e\u0434\u0438\u043b\u0441\u044f \u0438 \u0436\u0438\u0432\u0443 \u0432 \u0421\u0430\u0440\u0430\u0442\u043e\u0432\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0438 \u0421\u0413\u0423. \u0423 \u043c\u0435\u043d\u044f \u0435\u0441\u0442\u044c \u0436\u0435\u043d\u0430 \u0438 \u0434\u043e\u0447\u044c. \u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2015 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u043b \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xab\u0421\u041a\u0411 \u041a\u043e\u043d\u0442\u0443\u0440\xbb. \u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u043f\u0440\u043e\u0448\u0451\u043b \u043a\u0443\u0440\u0441 \u043f\u043e \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435, \u043d\u0430\u0447\u0430\u043b \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u0444\u0440\u0438\u043b\u0430\u043d\u0441-\u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438 \u0438 \u0443\u0448\u0451\u043b \u0441 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b."})]}),Object(b.jsx)("img",{className:"about-me__img",alt:"\u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a",src:O})]}),Object(b.jsx)("nav",{className:"about-me__navbar",children:Object(b.jsxs)("ul",{className:"about-me__navbar-list",children:[Object(b.jsx)("li",{className:"about-me__navbar-navbar-item",children:Object(b.jsx)("a",{href:"https://www.facebook.com/",target:"_blank",rel:"noreferrer",className:"about-me__link",children:"Facebook"})}),Object(b.jsx)("li",{className:"about-me__navbar-navbar-item",children:Object(b.jsx)("a",{href:"https://github.com/popvaleks",target:"_blank",rel:"noreferrer",className:"about-me__link",children:"Github"})})]})})]})};a(54);var x=function(){return Object(b.jsxs)("div",{className:"portfolio__wrapper",children:[Object(b.jsx)("h2",{className:"portfolio__title",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(b.jsxs)("a",{className:"portfolio__link",href:"https://github.com/popvaleks/russian-travel",target:"_blank",rel:"noreferrer",children:[Object(b.jsx)("p",{className:"portfolio__link-text",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(b.jsx)("p",{className:"portfolio__link-arrow",children:"\u2197"})]}),Object(b.jsxs)("a",{className:"portfolio__link",href:"https://github.com/popvaleks/react-mesto-api-full",target:"_blank",rel:"noreferrer",children:[Object(b.jsx)("p",{className:"portfolio__link-text",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(b.jsx)("p",{className:"portfolio__link-arrow",children:"\u2197"})]}),Object(b.jsxs)("a",{className:"portfolio__link",href:"https://github.com/popvaleks/mesto",target:"_blank",rel:"noreferrer",children:[Object(b.jsx)("p",{className:"portfolio__link-text",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(b.jsx)("p",{className:"portfolio__link-arrow",children:"\u2197"})]})]})};var g=function(){return Object(b.jsxs)("div",{className:"main-about__wrapper",children:[Object(b.jsxs)("div",{className:"main-about__promo",children:[Object(b.jsx)(h,{}),Object(b.jsx)(m,{})]}),Object(b.jsx)(p,{}),Object(b.jsx)(f,{}),Object(b.jsx)(v,{}),Object(b.jsx)(x,{})]})},N=(a(55),a(25)),k=a(26),w=a(27),C=a(28),S="https://api.popvaleks.students.nomoreparties.xyz",y=function(e){Object(k.a)(a,e);var t=Object(w.a)(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(N.a)(this,a);for(var s=arguments.length,r=new Array(s>2?s-2:0),i=2;i<s;i++)r[i-2]=arguments[i];return(e=t.call.apply(t,[this,c].concat(r))).code=n,e}return a}(Object(C.a)(Error)),L=function(){return fetch("".concat(S,"/users/me"),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))},E=function(e){var t="";switch(e){case 409:t="Email \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d";break;case 500:t="\u041d\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430";break;case 401:t="\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438";break;case 404:t="\u0420\u0435\u0441\u0443\u0440\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d";break;case 403:t="\u041e\u0442\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0435";break;case 400:t="\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 Email \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"}return t},T=c.a.createContext();var F=function(e){var t=e.title,a=e.upDateUserInfo,s=e.nameField,r=e.btnText,i=e.subtitleText,j=e.subtitleLink,d=e.subtitleLinkRoute,h=e.setLoggedIn,m=e.passField,_=e.editProfile,p=Object(n.useState)(""),f=Object(o.a)(p,2),O=f[0],v=f[1],x=Object(n.useState)(""),g=Object(o.a)(x,2),N=g[0],k=g[1],w=Object(n.useState)(""),C=Object(o.a)(w,2),L=C[0],F=C[1],P=Object(n.useState)("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),I=Object(o.a)(P,2),A=I[0],R=I[1],D=Object(n.useState)(!1),U=Object(o.a)(D,2),B=U[0],J=U[1],H=Object(n.useState)("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),z=Object(o.a)(H,2),M=z[0],W=z[1],q=Object(n.useState)(!1),G=Object(o.a)(q,2),Z=G[0],$=G[1],K=Object(n.useState)("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),Q=Object(o.a)(K,2),V=Q[0],X=Q[1],Y=Object(n.useState)(!1),ee=Object(o.a)(Y,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),ce=Object(o.a)(ne,2),se=ce[0],re=ce[1],ie=Object(n.useState)(""),oe=Object(o.a)(ie,2),le=oe[0],ue=oe[1],je=Object(l.g)(),be=Object(n.useContext)(T),de=function(e){switch(e.target.name){case"email":$(!0);break;case"password":ae(!0);break;case"name":J(!0)}};c.a.useEffect((function(){"/sign-up"===location.pathname?M||V||A||""===L||""===N||""===O?re(!1):(re(!0),ue("")):"/sign-in"===location.pathname?M||V||""===N||""===L?re(!1):(re(!0),ue("")):(""===O&&(ue(""),R("")),""===N&&(ue(""),W("")),""===O&&""===N||M||A?re(!1):O===be.name||N===be.email?(ue("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"),re(!1)):(ue(""),re(!0)))}),[O,N,L]);var he=function(){k(""),F(""),v(""),ue(""),R("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),W("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),X("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),J(!1),$(!1),ae(!1),re(!1)},me=function(e){he(),je.push(e)},_e=function(e,t){(function(e,t){return fetch("".concat(S,"/signin"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return e.ok&&204!==e.status?e.json():Promise.reject(new y(e.status,"\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status," (").concat(e.statusText,")")))}))})(e,t).then((function(e){he(),h(!0),je.push("/movies"),a()})).catch((function(e){ue(E(e.code)),F(""),re(!1),ae(!1)}))},pe=function(e,t,a){(function(e,t,a){return fetch("".concat(S,"/signup"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:a})}).then((function(e){return e.ok&&204!==e.status?e.json():Promise.reject(new y(e.status,"\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status," (").concat(e.statusText,")")))}))})(e,t,a).then((function(a){F(""),v(""),_e(e,t)})).catch((function(e){ue(E(e.code)),F(""),re(!1),ae(!1)}))},fe=function(e,t){var n,c;(n=e,c=t,fetch("".concat(S,"/users/me"),{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:""===n?JSON.stringify({name:c}):""===c?JSON.stringify({email:n}):JSON.stringify({email:n,name:c})}).then((function(e){return e.ok&&204!==e.status?e.json():Promise.reject(new y(e.status,"\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status," (").concat(e.statusText,")")))}))).then((function(){return ue("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e!"),re(!1),new Promise((function(e,t){setTimeout((function(){he(),a(),je.push("/profile"),e()}),1e3)}))})).catch((function(e){ue(E(e.code)),re(!1)}))},Oe=function(e){e.preventDefault(),"/sign-in"===location.pathname?_e(N,L):"/edit-profile"===location.pathname?fe(N,O):pe(N,L,O)};return Object(b.jsxs)("div",{className:"auth__wrapper",children:[Object(b.jsx)("button",{type:"button",onClick:function(){return me("/")},className:"button auth__landing-btn",children:Object(b.jsx)("img",{src:u,alt:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442",className:"auth__img"})}),Object(b.jsx)("h2",{className:"auth__title",children:t}),Object(b.jsxs)("form",{onSubmit:Oe,className:"auth__form",children:[Object(b.jsxs)("div",{className:"auth__from-wrapper",children:[s&&Object(b.jsxs)("div",{className:"auth__input-wrapper",children:[Object(b.jsx)("p",{className:"auth__input-title",children:"\u0418\u043c\u044f"}),Object(b.jsx)("input",{onChange:function(e){v(e.target.value);if(e.target.value.length<2)R("\u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"),e.target.value||R("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f");else{if(!/(^[a-zA-Z\s-]+$)+/i.test(String(e.target.value)))return R("\u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0443, \u043f\u0440\u043e\u0431\u0435\u043b \u0438\u043b\u0438 \u0434\u0435\u0444\u0438\u0441");R("")}},onBlur:de,value:O,placeholder:_&&be.name,type:"text",className:"auth__input ".concat(B&&A&&"auth__subtitle-text_error"),required:!_,id:"name",name:"name"}),B&&A&&Object(b.jsx)("span",{className:"auth__input-error",children:A})]}),Object(b.jsxs)("div",{className:"auth__input-wrapper",children:[Object(b.jsx)("p",{className:"auth__input-title",children:"E-mail"}),Object(b.jsx)("input",{value:N,onChange:function(e){k(e.target.value);/([a-zA-Z0-9]([-_.]?[a-zA-Z0-9]+)*)@([a-zA-Z0-9]([-]?[a-zA-Z0-9]+)*)(\.([a-zA-Z])+)+/i.test(String(e.target.value).toLowerCase())?W(""):W("\u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 Email")},onBlur:de,placeholder:_&&be.email,type:"text",className:"auth__input ".concat(Z&&M&&"auth__subtitle-text_error"),required:!_,id:"email",name:"email"}),Z&&M&&Object(b.jsx)("span",{className:"auth__input-error",children:M})]}),m&&Object(b.jsxs)("div",{className:"auth__input-wrapper",children:[Object(b.jsx)("p",{className:"auth__input-title",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(b.jsx)("input",{value:L,onChange:function(e){F(e.target.value),e.target.value.length<8?(X("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),e.target.value||X("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c")):X("")},onBlur:de,type:"password",className:"auth__input ".concat(te&&V&&"auth__subtitle-text_error"),required:!0,id:"password",name:"password"}),te&&V&&Object(b.jsx)("span",{className:"auth__input-error",children:V})]})]}),""!==le&&Object(b.jsx)("span",{className:"auth__req-error",children:le}),Object(b.jsx)("button",{onSubmit:Oe,type:"submit",disabled:!se,className:"button auth__button ".concat(!se&&"auth__button_disabled"),children:r})]}),Object(b.jsxs)("div",{className:"auth__subtitle-container",children:[Object(b.jsx)("p",{className:"auth__subtitle-text",children:i}),Object(b.jsx)("a",{onClick:function(){return me(d)},className:"link auth__subtitle-link",children:j})]})]})},P=(a(56),a(20)),I=(a(57),function(){return fetch("".concat(S,"/movies"),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))}),A=function(e){return fetch("".concat(S,"/movies/").concat(e),{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.ok&&204!==e.status?e.json():Promise.reject(new ErrorApiCodeHandler(e.status,"\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status," (").concat(e.statusText,")")))}))};var R=function(e){var t=e.setDefaultCardOnPage,a=e.updateSearchList,c=e.prefix,s=e.savedCardList,r=e.setSwitchBox,i=e.apiMoviesCardList,l=Object(n.useState)(""),u=Object(o.a)(l,2),j=u[0],d=u[1],h=Object(n.useState)(""),m=Object(o.a)(h,2),_=m[0],p=m[1],f=Object(n.useState)(""),O=Object(o.a)(f,2),v=O[0],x=O[1],g=Object(n.useState)(!1),N=Object(o.a)(g,2),k=N[0],w=N[1],C=Object(n.useState)(!0),S=Object(o.a)(C,2),y=S[0],L=S[1],E=i,T=function(e){L(e),w(e)},F=function(e){e.preventDefault();var n=v.toLowerCase();if(T(!1),c){var r=Object(P.a)(E.entries()).filter((function(e){return!0===e[1].nameRU.toLowerCase().includes(n)})).map((function(e){return e[1]}));0!==r.length?(localStorage.setItem("searchList",JSON.stringify(r)),a(JSON.stringify(r))):(localStorage.setItem("searchList",[]),a([])),x(""),t(),T(!0)}else{var i=Object(P.a)(s.entries()).filter((function(e){return!0===e[1].nameRU.toLowerCase().includes(n)})).map((function(e){return e[1]}));0!==i.length?a(i):a("notFound"),x(""),T(!0)}};return Object(n.useEffect)((function(){w(""!==v)}),[v]),Object(b.jsxs)("div",{className:"searchForm__wrapper",children:[Object(b.jsx)("div",{className:"searchForm__bar",children:Object(b.jsxs)("form",{onSubmit:F,className:"searchForm__form",children:[Object(b.jsx)("div",{className:"search__forn-ico"}),Object(b.jsx)("input",{onChange:y&&function(e){x(e.target.value)},value:v,name:"search",placeholder:"\u0424\u0438\u043b\u044c\u043c",type:"search",className:"searchForm__form-input"}),Object(b.jsx)("button",{onSubmit:F,type:"submit",disabled:!k,className:"searchForm__button ".concat(!k&&"searchForm__button_invalid"),children:"\u041d\u0430\u0439\u0442\u0438"})]})}),Object(b.jsxs)("div",{className:"searchForm__radio",children:[Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",name:"checkboxName",className:"checkbox"}),Object(b.jsx)("div",{onClick:function(){""===j?(d("switchOn"),p("switchColor"),r(!0)):(d(""),p(""),r(!1))},className:"switch ".concat(j," ").concat(_)})]}),Object(b.jsx)("p",{className:"searchForm__radio-text",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})]})},D=(a(58),a(59),a.p+"static/media/saveBDd.44eadceb.svg"),U=a.p+"static/media/save9BE.cbdfef3e.svg";var B=function(e){var t=e.card,a=e.savedCardList,c=e.handleChangeSave,s=Object(n.useState)(!1),r=Object(o.a)(s,2),i=r[0],u=r[1],j=Object(n.useState)("false"),d=Object(o.a)(j,2),h=d[0],m=d[1],_=Object(l.h)(),p=Object(n.useCallback)((function(){"/saved-movies"===_.pathname?m(!0):m(!1)}),[_.pathname]);Object(n.useEffect)((function(){p()}),[p]);var f=function(){if("\u0421\u043f\u0438\u0441\u043e\u043a \u0444\u0438\u043b\u044c\u043c\u043e\u0432 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"!==a.message){a.some((function(e){return e.nameRU===t.nameRU}))?u(!0):u(!1)}};return Object(n.useEffect)((function(){"/movies"===_.pathname&&f(),f()}),[]),Object(b.jsxs)("div",{className:"moviesCard__wrapper",children:[Object(b.jsxs)("div",{className:"moviesCard__header",children:[Object(b.jsxs)("div",{className:"moviesCard__header-info",children:[Object(b.jsx)("h3",{className:"moviesCard__header-name",children:t.nameRU}),Object(b.jsx)("p",{className:"moviesCard__header-duration",children:function(e){var t=Math.trunc(e/60),a=e%60;return t>0?t+"\u0447 "+a+"\u043c":a+"\u043c"}(t.duration)})]}),!h&&Object(b.jsx)("button",{onClick:function(){c(t,i),u(!0!==i)},className:"moviesCard__button moviesCard__button-save",children:Object(b.jsx)("img",{alt:"\u0424\u0438\u043b\u044c\u043c\u044b",src:i?U:D,className:"moviesCard__button-image"})}),h&&Object(b.jsx)("button",{onClick:function(){c(t)},className:"moviesCard__button moviesCard__button-cross",children:Object(b.jsx)("div",{className:"moviesCard__button-cross-line"})})]}),Object(b.jsx)("div",{className:"moviesCard__img-wrapper",children:Object(b.jsx)("img",{onClick:function(){window.open(t.trailerLink||"https://www.youtube.com/results?search_query=".concat(t.nameRU+" "+t.year))},alt:"\u0424\u0438\u043b\u044c\u043c\u044b",className:"moviesCard__img",src:h?t.image:null!==t.image?"https://api.nomoreparties.co".concat(t.image.url):"https://images.puella-magi.net/thumb/2/27/No_Image_Wide.svg/1600px-No_Image_Wide.svg.png?20110202071158"})})]})},J=(a(60),function(){return Object(b.jsx)("div",{className:"preloader",children:Object(b.jsx)("div",{className:"preloader__container",children:Object(b.jsx)("span",{className:"preloader__round"})})})});var H=function(e){var t=e.errorServer,a=e.addCardOnScreen,c=e.cardOnPage,s=e.setSwitchBoxEnable,r=e.moviesCardList,i=e.notFound,l=e.prefix,u=e.savedCardList,j=e.handleChangeSave,d=Object(n.useState)(!1),h=Object(o.a)(d,2),m=h[0],_=h[1];return Object(n.useEffect)((function(){r.length>c?_(!0):_(!1)}),[c,r]),Object(b.jsx)("div",{className:"movies-cardList__wrapper",children:0!==r.length&&!1!==r?Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"movies-cardList__content",children:r.map((function(e,t){if(t<c)return Object(b.jsx)(B,{savedCardList:u,card:e,handleChangeSave:j,setSwitchBox:s},!0===l?e.id:e._id)}))}),Object(b.jsx)("div",{className:"movies-cardList__more",children:m&&Object(b.jsx)("button",{onClick:function(){a()},className:"movies-cardList__more-button",children:Object(b.jsx)("p",{className:"movies-cardList__more-button-text",children:"\u0415\u0449\u0435"})})})]}):!0!==i?Object(b.jsx)(J,{}):Object(b.jsx)("div",{className:"movies-cardList__not-found",children:t?"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437":"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})})};var z=function(e){var t=e.addCardOnScreen,a=e.errorServer,c=e.handleServerError,s=e.cardOnPage,r=e.setDefaultCardOnPage,i=e.apiMoviesCardList,l=Object(n.useState)([]),u=Object(o.a)(l,2),j=u[0],d=u[1],h=Object(n.useState)([]),m=Object(o.a)(h,2),_=m[0],p=m[1],f=Object(n.useState)(!1),O=Object(o.a)(f,2),v=O[0],x=O[1],g=Object(n.useState)([]),N=Object(o.a)(g,2),k=N[0],w=N[1],C=Object(n.useState)(!1),y=Object(o.a)(C,2),L=y[0],E=y[1],T=Object(n.useState)([]),F=Object(o.a)(T,2),P=F[0],D=F[1],U=function(){I().then((function(e){e.message,w(e)})).catch((function(e){console.log(e)}))},B=Object(n.useCallback)((function(){U()}),[k]),J=Object(n.useCallback)((function(){0!==j.length?(p(JSON.parse(j)),D(JSON.parse(j).filter((function(e){return e.duration<41})))):(p([]),D([]),x(!0))}),[j]);return Object(n.useEffect)((function(){J()}),[j]),Object(n.useEffect)((function(){B(),d(localStorage.getItem("searchList")||[])}),[]),Object(b.jsxs)("div",{className:"movies__wrapper",children:[Object(b.jsx)(R,{updateSearchList:function(e){d(e)},prefix:!0,setSwitchBox:function(e){E(!0===e)},setDefaultCardOnPage:r,handleServerError:c,apiMoviesCardList:i}),0!==k.length&&Object(b.jsx)(H,{moviesCardList:L?!(!L||0===P.length)&&P:_,savedCardList:k,notFound:v,prefix:!0,handleChangeSave:function(e,t){!0===t?k.map((function(t){t.nameRU===e.nameRU&&A(t._id).then((function(){U()})).catch((function(e){console.log(e)}))})):function(e){var t="https://images.puella-magi.net/thumb/2/27/No_Image_Wide.svg/1600px-No_Image_Wide.svg.png?20110202071158";return fetch("".concat(S,"/movies"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({nameRU:e.nameRU||e.nameEN||"\u0424\u0438\u043b\u044c\u043c",nameEN:e.nameEN||e.nameRU||"Film",country:e.country||"world",director:e.director||"director",duration:e.duration||66,year:e.year||2e3,description:e.description||"description not found",image:null!==e.image?"https://api.nomoreparties.co".concat(e.image.url):t,trailer:e.trailerLink||"https://www.youtube.com/results?search_query=".concat(e.nameRU),thumbnail:null!==e.image?"https://api.nomoreparties.co".concat(e.image.formats.thumbnail.url):t,movieId:e.id})}).then((function(e){return e.ok&&204!==e.status?e.json():Promise.reject(new ErrorApiCodeHandler(e.status,"\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status," (").concat(e.statusText,")")))}))}(e).then((function(){U()})).catch((function(e){console.log(e)}))},switchBoxEnable:L,cardOnPage:s,addCardOnScreen:t,errorServer:a})]})};a(61);var M=function(e){var t=e.addCardOnScreen,a=e.errorServer,c=e.handleServerError,s=e.cardOnPage,r=e.setDefaultCardOnPage,i=Object(n.useState)([]),l=Object(o.a)(i,2),u=l[0],j=l[1],d=Object(n.useState)([]),h=Object(o.a)(d,2),m=h[0],_=h[1],p=Object(n.useState)(!1),f=Object(o.a)(p,2),O=f[0],v=f[1],x=Object(n.useState)(!1),g=Object(o.a)(x,2),N=g[0],k=g[1],w=Object(n.useState)([]),C=Object(o.a)(w,2),S=C[0],y=C[1],L=Object(n.useState)([]),E=Object(o.a)(L,2),T=E[0],F=E[1],P=Object(n.useCallback)((function(){I().then((function(e){"\u0421\u043f\u0438\u0441\u043e\u043a \u0444\u0438\u043b\u044c\u043c\u043e\u0432 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"===e.message?(_([]),v(!0)):(_(e),v(!1))})).catch((function(e){console.log(e)}))}),[m]);Object(n.useEffect)((function(){P(),j([])}),[]);var D=function(){0===m.length?v(!0):v(!1)};return Object(n.useEffect)((function(){D()}),[m.length]),Object(b.jsxs)("div",{className:"movies__wrapper",children:[Object(b.jsx)(R,{updateSearchList:function(e){"notFound"===e?v(!0):N?(j(e),F(e.filter((function(e){return e.duration<41}))),0===e.filter((function(e){return e.duration<41})).length?v(!0):v(!1)):(j(e),v(!1))},savedCardList:m,prefix:!1,setSwitchBox:function(e){!0===e?(0!==u.length?0===u.filter((function(e){return e.duration<41})).length?v(!0):(F(u.filter((function(e){return e.duration<41}))),v(!1)):0===m.filter((function(e){return e.duration<41})).length?v(!0):(y(m.filter((function(e){return e.duration<41}))),v(!1)),k(!0)):(y([]),F([]),j([]),k(!1),D())},setDefaultCardOnPage:r,handleServerError:c}),Object(b.jsx)(H,{moviesCardList:!O&&(0!==u.length||N?0===u.length&&N?S:0===u.length||N?0!==u.length&&N?T:(T.length,!1):u:m),savedCardList:m,notFound:O,prefix:!1,handleChangeSave:function(e){A(e._id).then((function(){_(m.filter((function(t){return t._id!==e._id}))),0!==u.length&&(j(u.filter((function(t){return t._id!==e._id}))),0===u.filter((function(t){return t._id!==e._id})).length&&v(!0)),N&&(y(S.filter((function(t){return t._id!==e._id}))),0===S.filter((function(t){return t._id!==e._id})).length&&v(!0),0!==T.length&&(F(T.filter((function(t){return t._id!==e._id}))),0===T.filter((function(t){return t._id!==e._id})).length&&v(!0)))})).catch((function(e){console.log(e)}))},cardOnPage:s,addCardOnScreen:t,errorServer:a})]})};a(62);var W=function(e){var t=e.signOut,a=Object(l.g)(),c=Object(n.useContext)(T),s=c.name,r=c.email;return Object(b.jsx)("div",{className:"profile__wrapper",children:Object(b.jsxs)("div",{className:"profile__content",children:[Object(b.jsxs)("h2",{className:"profile__header",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",s,"!"]}),Object(b.jsxs)("div",{className:"profile__info",children:[Object(b.jsxs)("div",{className:"profile__info-block",children:[Object(b.jsx)("p",{className:"profile__info-text",children:"\u0418\u043c\u044f"}),Object(b.jsx)("p",{className:"profile__info-text",children:s})]}),Object(b.jsxs)("div",{className:"profile__info-block",children:[Object(b.jsx)("p",{className:"profile__info-text",children:"\u041f\u043e\u0447\u0442\u0430"}),Object(b.jsx)("p",{className:"profile__info-text",children:r})]})]}),Object(b.jsx)("button",{onClick:function(){return e="/edit-profile",void a.push(e);var e},className:"profile__button profile__edit",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(b.jsx)("button",{onClick:function(){t()},className:"profile__button profile__log-out",children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})})};a(63);var q=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],s=t[1],r=Object(l.h)(),i=Object(n.useCallback)((function(){"/"===r.pathname||"/movies"===r.pathname||"/saved-movies"===r.pathname?s(!0):s(!1)}),[r.pathname]);return c.a.useEffect((function(){i()}),[i]),Object(b.jsx)("div",{children:a&&Object(b.jsxs)("div",{className:"footer__wrapper",children:[Object(b.jsx)("h3",{className:"footer__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(b.jsxs)("div",{className:"footer__contaner",children:[Object(b.jsx)("p",{className:"footer__copyright",children:"\xa9 2020"}),Object(b.jsx)("nav",{className:"footer__navbar",children:Object(b.jsxs)("ul",{className:"footer__navbar-list",children:[Object(b.jsx)("li",{className:"footer__navbar-link",children:Object(b.jsx)("a",{className:"footer__link",href:" https://praktikum.yandex.ru/",target:"_blank",rel:"noreferrer",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(b.jsx)("li",{className:"footer__navbar-link",children:Object(b.jsx)("a",{className:"footer__link",href:" https://github.com/popvaleks",target:"_blank",rel:"noreferrer",children:"Github"})}),Object(b.jsx)("li",{className:"footer__navbar-link",children:Object(b.jsx)("a",{className:"footer__link",href:"https://www.facebook.com/",target:"_blank",rel:"noreferrer",children:"Facebook"})})]})})]})]})})};a(64);var G=function(){var e=Object(l.g)();return Object(b.jsxs)("div",{className:"error-page__wrapper",children:[Object(b.jsx)("p",{className:"error-page__title",children:"404"}),Object(b.jsx)("p",{className:"error-page__subtitle",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(b.jsx)("a",{onClick:function(){return t="/",void e.push(t);var t},className:"link error-page__link",children:"\u041d\u0430\u0437\u0430\u0434"})]})},Z=a(29),$=a(30),K=function(e){var t=e.component,a=Object($.a)(e,["component"]);return Object(b.jsx)(l.b,{children:function(){return a.loggedIn?Object(b.jsx)(t,Object(Z.a)({},a)):Object(b.jsx)(l.a,{to:"/"})}})};var Q=12,V=8,X=5,Y=3,ee=2;var te=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)("default"),r=Object(o.a)(s,2),i=r[0],u=r[1],j=Object(n.useState)({name:"",film:[],email:"",_id:""}),h=Object(o.a)(j,2),m=h[0],_=h[1],p=Object(n.useState)(!1),f=Object(o.a)(p,2),O=f[0],v=f[1],x=Object(n.useState)(),N=Object(o.a)(x,2),k=N[0],w=N[1],C=Object(n.useState)(!1),y=Object(o.a)(C,2),E=y[0],P=y[1],I=Object(n.useState)([]),A=Object(o.a)(I,2),R=A[0],D=A[1],U=Object(l.g)(),B=Object(l.h)(),J=["/sign-in","/sign-up","/404","/profile","/saved-movies","/movies","/","/edit-profile"],H=Object(n.useCallback)((function(){var e=B.pathname;!0!==J.includes(e,0)&&setTimeout((function(){return U.push("/404")}))}),[B.pathname]),Z=Object(n.useCallback)((function(){"/sign-in"===B.pathname||"/sign-up"===B.pathname||"/edit-profile"===B.pathname||"/404"===B.pathname?u("withOutFooterAndHeader"):"/profile"===B.pathname?u("withOutFooter"):u("default")}),[B.pathname]),$=Object(n.useCallback)((function(){"/"===B.pathname?c(!0):c(!1)}),[B.pathname]);Object(n.useEffect)((function(){$(),Z(),H()}),[$,Z,H]);var te=Object(n.useCallback)((function(){L().then((function(e){_(e)})).catch((function(e){console.log(e)}))}),[O]),ae=Object(n.useCallback)((function(){L().then((function(e){_(e)})).catch((function(e){console.log(e)}))}),[m]),ne=function(){(function(e){var t=document.cookie.match("(^|) ?".concat(e,"=([^]*)(|$)"));return t&&t.length?t[2]:null})("jwt")&&(v(!0),te(),U.push(B.pathname))},ce=function(){var e=Object(n.useState)([0,0]),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.useLayoutEffect)((function(){function e(){c([window.innerWidth,window.innerHeight])}var t=function(e,t){var a=!1;return function(){a||(e.apply(this,arguments),a=!0,setTimeout((function(){a=!1}),t))}}(e,1e3);return window.addEventListener("resize",t),e(),function(){return window.removeEventListener("resize",t)}}),[]),a}(),se=Object(o.a)(ce,2),re=se[0],ie=(se[1],window),oe=(ie.innerWidth,ie.innerHeight,function(){w(window.innerWidth>1200?Q:window.innerWidth>765?V:X)}),le=function(){w(k+(re>1200?Y:ee))},ue=function(e){P(e)};Object(n.useEffect)((function(){w(re>1200?Q:re>765?V:X)}),[B.pathname,re]);var je=Object(n.useCallback)((function(){fetch("https://api.nomoreparties.co/beatfilm-movies",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e})).then((function(e){D(e),ue(!1)})).catch((function(e){e&&ue(!0)}))}),[R]);return Object(n.useEffect)((function(){je(),ne()}),[]),Object(b.jsx)(T.Provider,{value:m,children:Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(d,{landingHeader:a,loggedIn:O,handleTokenCheck:ne}),Object(b.jsx)("div",{className:"".concat("withOutFooterAndHeader"===i?"app__content_withOutFooterAndHeader":"withOutFooter"===i?"app__content_withOutFooter":"app__content"),children:Object(b.jsxs)(l.d,{children:[Object(b.jsx)(l.b,{path:"/404",children:Object(b.jsx)(G,{})}),Object(b.jsx)(l.b,{exact:!0,path:"/",children:Object(b.jsx)(g,{})}),Object(b.jsx)(K,{path:"/sign-up",loggedIn:!O,component:F,title:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!",nameField:"true",passField:"true",btnText:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",subtitleText:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b",subtitleLink:"\u0412\u043e\u0439\u0442\u0438",subtitleLinkRoute:"sign-in",upDateUserInfo:ae,setLoggedIn:v}),Object(b.jsx)(K,{path:"/sign-in",loggedIn:!O,component:F,setLoggedIn:v,title:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!",passField:"true",btnText:"\u0412\u043e\u0439\u0442\u0438",subtitleText:"\u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b",subtitleLink:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",subtitleLinkRoute:"sign-up",upDateUserInfo:ae}),Object(b.jsx)(K,{path:"/movies",component:z,loggedIn:O,cardOnPage:k,addCardOnScreen:le,setDefaultCardOnPage:oe,errorServer:E,handleServerError:ue,apiMoviesCardList:R}),Object(b.jsx)(K,{path:"/saved-movies",component:M,loggedIn:O,cardOnPage:k,addCardOnScreen:le,setDefaultCardOnPage:oe,errorServer:E,handleServerError:ue}),Object(b.jsx)(K,{loggedIn:O,component:W,path:"/profile",signOut:function(){fetch("".concat(S,"/signout"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e})).then((function(){U.push("/"),localStorage.removeItem("searchList"),v(!1)})).catch((function(e){console.log(e)}))}}),Object(b.jsx)(K,{loggedIn:O,component:F,path:"/edit-profile",upDateUserInfo:ae,title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435!",editProfile:"true",nameField:"true",btnText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",subtitleText:"\u041f\u0435\u0440\u0435\u0434\u0443\u043c\u0430\u043b\u0438?",subtitleLink:"\u041d\u0430\u0437\u0430\u0434",subtitleLinkRoute:"/profile"})]})}),Object(b.jsx)(q,{})]})})})};r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(i.a,{children:Object(b.jsx)(te,{})})}),document.getElementById("root"))}]),[[65,1,2]]]);
//# sourceMappingURL=main.45a2c6c0.chunk.js.map